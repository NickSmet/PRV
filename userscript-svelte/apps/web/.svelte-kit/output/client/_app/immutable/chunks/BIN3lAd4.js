var ee=Object.defineProperty;var C=s=>{throw TypeError(s)};var se=(s,e,r)=>e in s?ee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>se(s,typeof e!="symbol"?e+"":e,r),Y=(s,e,r)=>e.has(s)||C("Cannot "+r);var n=(s,e,r)=>(Y(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?C("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),j=(s,e,r,t)=>(Y(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{ao as K,ap as re,X as x,O as te,v as k,M as q,h as O,A as ie,V as ae,aq as ne,K as H,d as Z,a0 as $,ar as fe,L as ue,Z as ce,C as oe,aa as U,as as le,H as de,b as G,J as he,at as L,au as I,av as pe,aw as _e,j as D,m as ve,ax as be,ay as ge,ah as Se,az as we,y as ye,aA as Pe,aB as me,a as Ae,aC as Ee,aD as Oe,aE as Re,ai as J,aF as y}from"./DtKEd5CY.js";var d,h,l,v,P,m,R;class V{constructor(e,r=!0){F(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,P,!0);_(this,m,()=>{var e=K;if(n(this,d).has(e)){var r=n(this,d).get(e),t=n(this,h).get(r);if(t)re(t),n(this,v).delete(r);else{var i=n(this,l).get(r);i&&(n(this,h).set(r,i.effect),n(this,l).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,u]of n(this,d)){if(n(this,d).delete(a),a===e)break;const f=n(this,l).get(u);f&&(x(f.effect),n(this,l).delete(u))}for(const[a,u]of n(this,h)){if(a===r||n(this,v).has(a))continue;const f=()=>{if(Array.from(n(this,d).values()).includes(a)){var p=document.createDocumentFragment();ae(u,p),p.append(k()),n(this,l).set(a,{effect:u,fragment:p})}else x(u);n(this,v).delete(a),n(this,h).delete(a)};n(this,P)||!t?(n(this,v).add(a),te(u,f,!1)):f()}}});_(this,R,e=>{n(this,d).delete(e);const r=Array.from(n(this,d).values());for(const[t,i]of n(this,l))r.includes(t)||(x(i.effect),n(this,l).delete(t))});this.anchor=e,j(this,P,r)}ensure(e,r){var t=K,i=ne();if(r&&!n(this,h).has(e)&&!n(this,l).has(e))if(i){var a=document.createDocumentFragment(),u=k();a.append(u),n(this,l).set(e,{effect:q(()=>r(u)),fragment:a})}else n(this,h).set(e,q(()=>r(this.anchor)));if(n(this,d).set(t,e),i){for(const[f,c]of n(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of n(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(n(this,m)),t.ondiscard(n(this,R))}else O&&(this.anchor=ie),n(this,m).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,P=new WeakMap,m=new WeakMap,R=new WeakMap;function Me(s,e,r=!1){O&&Z();var t=new V(s),i=r?$:0;function a(u,f){if(O){const p=fe(s)===ue;if(u===p){var c=ce();oe(c),t.anchor=c,U(!1),t.ensure(u,f),U(!0);return}}t.ensure(u,f)}H(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},i)}function Be(s,e,r){O&&Z();var t=new V(s);H(()=>{var i=e()??null;t.ensure(i,i&&(a=>r(a,i)))},$)}function z(s,e){return s===e||(s==null?void 0:s[L])===e}function Ne(s={},e,r,t){return le(()=>{var i,a;return de(()=>{i=a,a=[],G(()=>{s!==r(...a)&&(e(s,...a),i&&z(r(...i),s)&&e(null,...i))})}),()=>{he(()=>{a&&z(r(...a),s)&&e(null,...a)})}}),s}let E=!1;function Te(s){var e=E;try{return E=!1,[s(),E]}finally{E=e}}const xe={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ce(s,e,r){return new Proxy({props:s,exclude:e},xe)}const De={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(y(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];y(i)&&(i=i());const a=I(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(y(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=I(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===L||e===J)return!1;for(let r of s.props)if(y(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(y(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Fe(...s){return new Proxy({props:s},De)}function Ye(s,e,r,t){var B;var i=!Ae||(r&Ee)!==0,a=(r&me)!==0,u=(r&Re)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?G(t):t),f),g;if(a){var X=L in s||J in s;g=((B=I(s,e))==null?void 0:B.set)??(X&&e in s?o=>s[e]=o:void 0)}var S,M=!1;a?[S,M]=Te(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=p(),g&&(i&&pe(),g(S)));var b;if(i?b=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},i&&(r&_e)===0)return b;if(g){var Q=s.$$legacy;return(function(o,A){return arguments.length>0?((!i||!A||Q||M)&&g(A?b():o),o):b()})}var T=!1,w=((r&Oe)!==0?ve:be)(()=>(T=!1,b()));a&&D(w);var W=ye;return(function(o,A){if(arguments.length>0){const N=A?D(w):i&&a?ge(o):o;return Se(w,N),T=!0,f!==void 0&&(f=N),o}return we&&T||(W.f&Pe)!==0?w.v:D(w)})}export{V as B,Ne as b,Be as c,Me as i,Ye as p,Ce as r,Fe as s};
